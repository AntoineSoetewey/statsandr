---
title: World map of visited countries in R
author: Antoine Soetewey
date: '2020-01-09'
slug: world-map-of-visited-countries-in-r
categories: []
tags:
  - R
  - Travel
meta_img: blog/world-map-of-visited-countries-in-r_files/world-map-in-r.png
description: This article illustrates how to draw a world map of the countries you have visited in R. This world map can also be used to highlight some specific countries.
output:
  blogdown::html_page:
    toc: true
    toc_depth: 6
# draft: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  fig.align = "center",
  out.width='100%'
)
```

Like me, if you like traveling as much as R you might want to draw a world map of the countries you have visited in R. Below an example with the countries I have visited as of January 2020:

```{r, echo = FALSE, message = FALSE}
library(highcharter)
library(dplyr)
library(maps)
```

```{r, message = FALSE, echo = FALSE}
dat <- iso3166
dat <- rename(dat, "iso-a3" = a3)
countries_visited <- c("AUS", "BEL", "CAN", "CZE", "DNK", "FIN", "FRA", "DEU", "GRC", "HUN", "IRL", "ITA", "LVA", "LUX", "MCO", "MMR", "NLD", "NZL", "NOR", "PRT", "ROU", "SGP", "ESP", "SWE", "CHE", "TWN", "THA", "GBR", "USA")
dat$visited <- ifelse(dat$`iso-a3` %in% countries_visited, 1, 0)

hcmap(
  map = "custom/world-highres3", # high resolution world map
  data = dat, # name of dataset
  joinBy = "iso-a3",
  value = "visited",
  showInLegend = FALSE, # hide legend
  nullColor = "#DADADA",
  download_map_data = TRUE
) %>%
  hc_mapNavigation(enabled = FALSE) %>%
  hc_legend("none") %>%
  hc_title(text = "World map") # title
```

To draw this map in R, you will need the following packages:

```{r, eval = FALSE}
library(highcharter)
library(dplyr)
library(maps)
```

As usual, you need the packages to be installed on your machine before loading them with `library()`. You can install a package with the command `install.packages("name_of_package")`.

After having loaded the packages, we are going to use the dataset called `iso3166` from the `{maps}` package and rename it `dat`. Here are the first 6 rows of the dataset:

```{r, eval = TRUE}
dat <- iso3166
head(dat)
```

We rename the variable `a3` by `iso-a3`:

```{r, eval = TRUE}
dat <- rename(dat, "iso-a3" = a3)
head(dat)
```

We save the visited countries in a vector called `countries_visited`. To know the ISO codes of the countries you have visited, check the column `ISOname` in the dataset and extract the ISO codes from the column `iso-a3`:

```{r, eval = TRUE}
countries_visited <- c("AUS", "BEL", "CAN", "CZE", "DNK", "FIN", "FRA", "DEU", "GRC", "HUN", "IRL", "ITA", "LVA", "LUX", "MCO", "MMR", "NLD", "NZL", "NOR", "PRT", "ROU", "SGP", "ESP", "SWE", "CHE", "TWN", "THA", "GBR", "USA")
```

We now create a new variable called `visited` which equals to 1 if you have visited the country and 0 otherwise:

```{r, eval = TRUE}
dat$visited <- ifelse(dat$`iso-a3` %in% countries_visited, 1, 0)
head(dat)
```

Finally, we are ready to draw the world map thanks to the `hcmap()` command from the `{highcharter}` package:

```{r, eval = FALSE}
hcmap(
  map = "custom/world-highres3", # high resolution world map
  data = dat, # name of dataset
  joinBy = "iso-a3",
  value = "visited",
  showInLegend = FALSE, # hide legend
  nullColor = "#DADADA",
  download_map_data = TRUE
) %>%
  hc_mapNavigation(enabled = FALSE) %>%
  hc_legend("none") %>%
  hc_title(text = "World map") # title
```

Change the arguments to your needs and you are good to go. To go even further, you can also add a list including all your visited countries thanks to this code:

```{r, eval = TRUE}
dat <- subset(dat, dat$visited == 1)
sort(dat$ISOname) # sort is to have the visited countries in alphabetical order
```

And count the number of countries visited:

```{r}
paste(
  "Total: ",
  sum(dat$visited),
  " countries."
)
```

In conclusion, here is the entire code to draw a world map with visited countries highlighted, a list of all countries in alphabetical order and the number of countries visited:

```{r, eval = FALSE}
library(highcharter)
library(dplyr)
library(maps)

dat <- iso3166
dat <- rename(dat, "iso-a3" = a3)
countries_visited <- c("AUS", "BEL", "CAN", "CZE", "DNK", "FIN", "FRA", "DEU", "GRC", "HUN", "IRL", "ITA", "LVA", "LUX", "MCO", "MMR", "NLD", "NZL", "NOR", "PRT", "ROU", "SGP", "ESP", "SWE", "CHE", "TWN", "THA", "GBR", "USA")
dat$visited <- ifelse(dat$`iso-a3` %in% countries_visited, 1, 0)

hcmap(
  map = "custom/world-highres3", # high resolution world map
  data = dat, # name of dataset
  joinBy = "iso-a3",
  value = "visited",
  showInLegend = FALSE, # hide legend
  nullColor = "#DADADA",
  download_map_data = TRUE
) %>%
  hc_mapNavigation(enabled = FALSE) %>%
  hc_legend("none") %>%
  hc_title(text = "World map") # title

dat <- subset(dat, dat$visited == 1)
sort(dat$ISOname) # sort is to have the visited countries in alphabetical order

paste(
  "Total: ",
  sum(dat$visited),
  " countries."
)
```

Thanks for reading. I hope this article helped you to draw a world map with visited countries highlighted in R.

As always, if you have a question or a suggestion related to the topic covered in this article, please add it as a comment so other readers can benefit from the discussion. If you find a mistake or bug, you can inform me by <a href="https://github.com/AntoineSoetewey/statsandr/issues" target="_blank" rel="noopener">raising an issue on GitHub</a>. For all other requests, you can contact me [here](/contact/).

Get updates every time a new article is published by [subscribing to this blog](/subscribe/).

**Related articles:**

<script src="//rss.bloople.net/?url=https%3A%2F%2Fwww.statsandr.com%2Ftags%2Fr%2Findex.xml&detail=-1&limit=5&showtitle=false&type=js"></script>
